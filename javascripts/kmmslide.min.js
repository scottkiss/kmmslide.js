!function(i,e){if(typeof define==="function"&&define.amd){i.kmmslide=define(["exports","jquery"],function(i,s){e(i,s)})}else{i.kmmslide=e({},i.jQuery||i.$)}}(this,function(i,e){var s=function(e){var s=e||{};var t=i.defaults;for(var d in t){if(s[d]===undefined){s[d]=t[d]}}this.config=s;if(this.config.target){this.$("#"+this.config.target).html(this.template)}var n=this.config.pics,a=n.length;if(a&&a>0){var c="";for(var l=0;l<a;l++){c+='<a href="'+n[l].url+'" target="_blank" id="slide'+(l+1)+'" style="display:'+(l==0?"block":"none")+';" ><img  src="'+n[l].pic+'"></a>'}c+='<div class="slide_bar">';for(var l=0;l<a;l++){c+='<div  id="f'+(l+1)+'" class="'+(l==0?"dq":"no")+'"></div>'}c+="</div>";this.$("#slide").append(c);for(var l=1;l<=a;l++){var r=this;!function(i){r.$("#f"+i).bind("click",function(){r.changeslide(i)})}(l)}this.setSize(this.config.width,this.config.height);this.setBarPosition(this.config.width);this.togglePic.start(this.config.speed,a);var r=this;this.$(".slide_bar div").hover(function(){r.togglePic.stop()},function(){r.togglePic.start(r.config.speed,a)})}else{alert("need pics")}};function t(i){var e=this.$,s=e(document).width();if(s<i){i=s}e(".slide_bar").css("paddingLeft",i/2+"px")}function d(i,e){var s=this.$;if(i&&e){s("#slide").css("width",i+"px");s("#slide").css("height",e+"px");s("#slide img").css("width",i+"px");s("#slide img").css("height",e+"px")}}function n(i){var e=i,s=this.config,t=s.pics,d=this.$;this.curIndex=e;for(var n=1;n<=t.length;n++){if(n==i){d("#slide"+n).fadeIn(70);d("#slide"+n).css("display","block");d("#f"+n).removeClass();d("#f"+n).addClass("dq")}else{d("#slide"+n).css("display","none");d("#f"+n).removeClass();d("#f"+n).addClass("no")}}}var a={tid:null,start:function(s,t){this.tid=setInterval(e.proxy(function(){i.curIndex=i.curIndex>=t?1:i.curIndex+1;i.changeslide(i.curIndex)},this),s)},stop:function(){clearInterval(this.tid)}};i.name="kmmslide.js";i.version="0.0.1";i.$=e;i.togglePic=a;i.init=s;i.changeslide=n;i.setSize=d;i.setBarPosition=t;i.curIndex=1;i.template='<div id="kmmSlide">'+'<div id="sdBg">'+'<div id="slideLine">'+'<div id="slide">'+"</div>"+"</div>"+"</div>"+"</div>";i.defaults={speed:4e3,target:null,width:1e3,height:400,pics:[],autoToggle:true};return i});